{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{476:function(t,e,a){var n=a(489);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);(0,a(110).default)(\"9fc25524\",n,!1,{})},488:function(t,e,a){\"use strict\";var n=a(476);a.n(n).a},489:function(t,e,a){(t.exports=a(109)(!1)).push([t.i,\"/*******************************/\\n/* flexbox\\n/*******************************/\\n/*******************************/\\n/* elipsis\\n/*******************************/\\n/*******************************/\\n/* unselectable\\n/*******************************/\\n/*******************************/\\n/* base-styles\\n/*******************************/\\n/*******************************/\\n/* colors\\n/*******************************/\\n/*******************************/\\n/* spacers\\n/*******************************/\\n/*******************************/\\n/* font family\\n/*******************************/\\n/*******************************/\\n/* font size\\n/*******************************/\\n/*******************************/\\n/* font weight\\n/*******************************/\\n/*******************************/\\n/* border radius\\n/*******************************/\\n/*******************************/\\n/* border width\\n/*******************************/\\n/*******************************/\\n/* Base styles\\n/*******************************/\\n.chart-content[data-v-695ebe54] {\\n  position: relative;\\n}\\n.legend[data-v-695ebe54] {\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 55px;\\n}\\n.toggles[data-v-695ebe54] {\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.toggle[data-v-695ebe54] {\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: flex;\\n  align-items: center;\\n  margin-right: 6px;\\n  padding: 6px 12px;\\n  border-radius: 17px;\\n  height: 34px;\\n  border: 2px solid transparent;\\n  cursor: pointer;\\n  transition: all 0.25s;\\n}\\n.toggle[data-v-695ebe54]:last-of-type {\\n    margin-right: 0;\\n}\\n.toggle.is-closed[data-v-695ebe54] {\\n    opacity: 0.6;\\n}\\n.toggle.is-closed .toggle-dot[data-v-695ebe54] {\\n      left: 12px;\\n}\\n.toggle[data-v-695ebe54]:hover {\\n    border: 2px solid #EFEFEF;\\n}\\n.toggle-button[data-v-695ebe54] {\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-box;\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n}\\n.toggle-rail[data-v-695ebe54] {\\n  height: 10px;\\n  width: 24px;\\n  border-radius: 4px;\\n  background: #EFEFEF;\\n}\\n.toggle-dot[data-v-695ebe54] {\\n  position: absolute;\\n  left: -2px;\\n  top: -2px;\\n  height: 14px;\\n  width: 14px;\\n  border-radius: 50%;\\n  background: #009DE1;\\n  transition: all 0.25s;\\n}\\n.toggle-label[data-v-695ebe54] {\\n  margin-left: 12px;\\n}\\n.chart-container[data-v-695ebe54] {\\n  height: 320px;\\n  position: relative;\\n  background: #fff;\\n  border-bottom-left-radius: 10px;\\n  border-bottom-right-radius: 10px;\\n  cursor: pointer;\\n}\\n.hover-overlay[data-v-695ebe54] {\\n  position: absolute;\\n  background: #fff;\\n  border-radius: 8px;\\n  transform: translate(-50%, -100%) scale(0.9);\\n  pointer-events: none;\\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\\n  transition: opacity 0.18s, transform 0.18s;\\n  overflow: hidden;\\n  opacity: 0;\\n  margin-top: -10px;\\n}\\n.hover-overlay li[data-v-695ebe54] {\\n    display: -webkit-flex;\\n    display: -moz-box;\\n    display: -ms-flexbox;\\n    display: -webkit-box;\\n    display: flex;\\n    padding: 12px 20px;\\n    border-bottom: 1px solid #f5f5f5;\\n}\\n.hover-overlay.is-active[data-v-695ebe54] {\\n    opacity: 1;\\n    transform: translate(-50%, -100%) scale(1);\\n}\\n.hover-header[data-v-695ebe54] {\\n  background: #0C2A44;\\n  color: #fff;\\n  padding: 12px 20px;\\n  font-weight: 500;\\n}\\n.row-label[data-v-695ebe54] {\\n  margin-right: 20px;\\n}\\n.row-value[data-v-695ebe54] {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  margin-left: auto;\\n  color: #009DE1;\\n  font-weight: 500;\\n}\\n\",\"\"])},491:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"dashboard-component\"},[a(\"div\",{staticClass:\"component-header\"},[a(\"div\",{staticClass:\"component-title\"},[t._v(t._s(t.title))]),t._v(\" \"),a(\"div\",{staticClass:\"component-header-right\"},[t._t(\"default\")],2)]),t._v(\" \"),a(\"div\",{staticClass:\"chart-content\"},[a(\"div\",{staticClass:\"legend\"},[a(\"div\",{staticClass:\"toggles\"},t._l(t.toggles,function(e,n){return a(\"div\",{key:n,staticClass:\"toggle\",class:{\"is-closed\":!e.isActive},on:{click:function(e){t.toggleWasPressed(n)}}},[a(\"div\",{staticClass:\"toggle-button\"},[a(\"div\",{staticClass:\"toggle-rail\"}),t._v(\" \"),a(\"div\",{staticClass:\"toggle-dot\",style:{background:e.color,opacity:e.opacity}})]),t._v(\" \"),a(\"div\",{staticClass:\"toggle-label\"},[t._v(t._s(e.name))])])}))]),t._v(\" \"),a(\"div\",{directives:[{name:\"resize\",rawName:\"v-resize:throttle.100\",value:t.onResize,expression:\"onResize\",arg:\"throttle\",modifiers:{100:!0}}],ref:\"chartElement\",staticClass:\"chart-container\",attrs:{id:t.chartId}},[a(\"div\",{ref:\"hoverElement\",staticClass:\"hover-overlay\",class:{\"is-active\":t.isHovering},style:{left:t.hoverLeft+\"px\",top:t.hoverTop+\"px\",\"margin-left\":t.hoverAdjustment+\"px\"}},[a(\"div\",{staticClass:\"hover-header\"},[t._v(t._s(t.hoverLabel))]),t._v(\" \"),a(\"ul\",t._l(t.hoverData,function(e,n){return a(\"li\",{key:n,staticClass:\"hover-row\"},[a(\"div\",{staticClass:\"row-label\"},[t._v(t._s(e.name))]),t._v(\" \"),a(\"div\",{staticClass:\"row-value\"},[t._v(t._s(e.yFormatted)+\" (\"+t._s(e.percent)+\")\")])])}))])])]),t._v(\" \"),a(\"transition\",{attrs:{name:\"fade\"}},[t.isLoading?a(\"div\",{staticClass:\"loading-overlay\"},[a(\"basic-spinner\")],1):t._e()])],1)};n._withStripped=!0;var i=a(485),s=a(486),o=a.n(s),r={components:{BasicSpinner:a(111).a},props:{datasets:{type:Array,required:!0},title:{type:String,required:!1,default:\"Stacked line chart\"},margin:{type:Object,required:!1},leftAxis:{type:Object,required:!1},bottomAxis:{type:Object,required:!1}},directives:{resize:o.a},data:function(){return{isLoading:!0,chart:\"\",hoverLeft:0,hoverTop:0,hoverLabel:\"\",isHovering:!1,hoverAdjustment:0,hoverData:[],toggles:[]}},methods:{onResize:function(){this.chart.update({animationDuration:0})},toggleWasPressed:function(t){var e=this;if(this.toggles.filter(function(t){return t.isActive}).length>1||!this.toggles[t].isActive){this.toggles[t].isActive=!this.toggles[t].isActive;var a=this.datasets.filter(function(t,a){return e.toggles[a].isActive}),n=this.chart.getConfig();n.datasets=a,this.chart.setConfig(n),this.chart.update()}}},computed:{chartId:function(){return\"stacked-column-chart-\".concat(this._uid)}},mounted:function(){var t=this;0===this.datasets.length&&(this.isLoading=!0),this.chart=new i.a.types.stackedColumn({containerId:\"#\".concat(t.chartId),margin:t.margin,bottomXAxis:t.bottomAxis,leftYAxis:t.leftAxis,datasets:t.datasets}),this.chart.mouseMove(function(e){t.hoverLeft=e.left,t.hoverTop=e.top,t.hoverData=e.closestValues,t.hoverLabel=e.closestLabel,t.$nextTick(function(a){var n=t.$refs.hoverElement.getBoundingClientRect(),i=t.$refs.chartElement.getBoundingClientRect().width,s=e.left+n.width/2,o=e.left-n.width/2,r=i-s;t.hoverAdjustment=r<0?r-10:o<0?Math.abs(o)+10:0})}),this.chart.mouseOver(function(e){t.isHovering=!0}),this.chart.mouseOut(function(e){t.isHovering=!1})},watch:{datasets:function(t){var e=this;this.toggles=t.map(function(t){var a=e.toggles.filter(function(e){return e.name===t.name})[0];return{name:t.name,color:t.color,opacity:void 0!==t.opacity?t.opacity:1,isActive:void 0===a||a.isActive}});var a=this.chart.getConfig(),n=t.filter(function(t,a){return e.toggles[a].isActive});a.datasets=n,this.chart.setConfig(a),this.chart.update(),this.isLoading=!1},\"bottomAxis.timeFormat\":function(t){var e=this.chart.getConfig();e.bottomXAxis.timeFormat=t,this.chart.setConfig(e),this.chart.update(),this.isLoading=!1}}},l=(a(488),a(1)),d=Object(l.a)(r,n,[],!1,null,\"695ebe54\",null);d.options.__file=\"src/components/charts/stacked-column.vue\";e.a=d.exports},520:function(t,e,a){var n=a(564);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);(0,a(110).default)(\"0d3e7d88\",n,!1,{})},563:function(t,e,a){\"use strict\";var n=a(520);a.n(n).a},564:function(t,e,a){(t.exports=a(109)(!1)).push([t.i,\"\",\"\"])},582:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"dashboard\"},[a(\"target-table\",{attrs:{title:\"Nøgletal - år til dato vs. sidste år til dato\",headers:{metric:\"Nøgletal\",ytd:\"ÅTD\",target:\"SÅTD\",index:\"Indeks\",difference:\"Forskel\",indicator:\"ÅTD vs SÅTD (Sorte linje)\"},rowFormats:{\"Besøg\":{type:\"agg\"},Sidevisninger:{type:\"agg\"},\"Sider per besøg\":{type:\"float\",format:{format:\",.2f\",suffix:\" sider\"}},\"Gns. besøgsvarighed\":{type:\"float\",format:{format:\",.2f\",suffix:\"m\"}},\"Bounce rate\":{type:\"float\",format:{format:\",.1f\",suffix:\"%\"},reverseIndex:!0}},data:t.targetTableData,placeholderRows:5}}),t._v(\" \"),a(\"basic-table\",{attrs:{title:\"Besøg Per Traffikkilde, enhed og region\",data:t.filteredTableData,colFormats:{Revenue:{format:\",.0f\",prefix:\"€\"},\"Bounce rate\":{format:\",.1f\",suffix:\"%\"},\"Sider per besøg\":{format:\",.2f\",suffix:\" sider\"},\"Gns. Besøgsvarighed\":{format:\",.2f\",suffix:\" min\"}},sort:{direction:\"desc\",column:2},filter:{limit:50},placeholderRows:11}},[a(\"div\",{staticClass:\"filter-description\"},[t._v(\"Split på\")]),t._v(\" \"),a(\"dropdown\",{attrs:{options:[{name:\"Trafikkilde\",isSelected:!0},{name:\"Enhed\"},{name:\"Region\"}]},on:{selected:t.tableDropdownSelected}})],1),t._v(\" \"),a(\"stacked-column-chart\",{attrs:{title:\"Besøg per enhed\",datasets:t.filteredStackDataset,margin:{left:65,bottom:45,top:5},bottomAxis:{timeFormat:t.stackedFilter.format,type:\"scaleBand\"},leftAxis:{format:\",.0f\"}}},[a(\"div\",{staticClass:\"filter-description\"},[t._v(\"Split på\")]),t._v(\" \"),a(\"dropdown\",{attrs:{options:[{name:\"Dage\",filter:{type:\"days\",limit:14,format:\"%b %d\"}},{name:\"Uger\",filter:{type:\"weeks\",limit:12,format:\"U. %W\"}},{name:\"Måneder\",filter:{type:\"months\",limit:12,format:\"%b %y\"},isSelected:!0}]},on:{selected:t.stackedSelected}})],1)],1)};n._withStripped=!0;var i=a(493),s=a(490),o=a(491),r=a(487),l=a(485),d={components:{TargetTable:i.a,BasicTable:s.a,StackedColumnChart:o.a,Dropdown:r.a},props:{dashboardId:String},data:function(){return{targetTableData:[],tableData:[],tableFilter:\"Trafikkilde\",stackedData:[],stackedFilter:{type:\"months\",limit:12,format:\"%b %y\"}}},methods:{tableDropdownSelected:function(t){this.tableFilter=t.name},stackedSelected:function(t){this.stackedFilter=t.filter}},computed:{filteredTableData:function(){var t=this,e=this.tableData.filter(function(e,a){return e[0]===t.tableFilter||0===a}).map(function(t){return t.filter(function(t,e){return e>0})});return void 0!==e[0]&&(e[0][0]=this.tableFilter),e},filteredStackDataset:function(){if(this.stackedData.length>0){var t=l.a.helpers.arrayToDatasets(this.stackedData,{rollup:{parser:\"%Y%m%d\",type:this.stackedFilter.type},limit:this.stackedFilter.limit});return[{name:\"Desktop\",color:\"#009DE1\",opacity:1,axis:\"left\",values:t.DESKTOP},{name:\"Mobile\",color:\"#009DE1\",opacity:.6,axis:\"left\",values:t.MOBILE},{name:\"Tablet\",color:\"#009DE1\",opacity:.4,axis:\"left\",values:t.TABLET}]}return[]}},mounted:function(){var t=this;this.$emit(\"loaded\"),this.$api.get(\"/dashboard/\".concat(this.dashboardId,\"/data/-LSPDkcks9CAPXxhCO4b\")).then(function(e){var a=e.data.data;t.targetTableData=a.map(function(t){return{metric:t[0],value:t[1],comparison:t[2]}})}).catch(function(t){return console.log(t.response)}),this.$api.get(\"/dashboard/\".concat(this.dashboardId,\"/data/-LSPDquDyXeepmXj3We_\")).then(function(e){var a=e.data.data;t.tableData=a}).catch(function(t){return console.log(t.response)}),this.$api.get(\"/dashboard/\".concat(this.dashboardId,\"/data/-LSPDoKpc-2-5L3mPGcZ\")).then(function(e){var a=e.data.data;t.stackedData=a}).catch(function(t){return console.log(t.response)})}},c=(a(563),a(1)),f=Object(c.a)(d,n,[],!1,null,\"308878d5\",null);f.options.__file=\"src/components/dashboards/hk/hk-dk.vue\";e.default=f.exports}}]);","extractedComments":[]}